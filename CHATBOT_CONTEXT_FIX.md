# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —á–∞—Ç-–±–æ—Ç–∞

## –ü—Ä–æ–±–ª–µ–º–∞

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ø—Ä–∞—à–∏–≤–∞–ª AI –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –º–µ—Å—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–†–∞—Å—Å–∫–∞–∂–∏ –æ –®–µ—Ä–∫–∞–ª–µ"), AI –æ—Ç–≤–µ—á–∞–ª, —á—Ç–æ –º–µ—Å—Ç–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ. –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö:

1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π SQL –∑–∞–ø—Ä–æ—Å**: –ü–æ–ª—è `description_*` –∏ `legends_*` –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ —Å–µ–∫—Ü–∏—é `categories`, –Ω–æ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `places`
2. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –§—É–Ω–∫—Ü–∏—è `formatPlacesForAI` –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –≤—Å–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
3. **–°–ª–∞–±–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤**: –§—É–Ω–∫—Ü–∏—è `analyzeUserQuery` –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–ª–∞ –∑–∞–ø—Ä–æ—Å—ã –≤–∏–¥–∞ "—Ä–∞—Å—Å–∫–∞–∂–∏ –æ...", "—á—Ç–æ —Ç–∞–∫–æ–µ..."
4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–∏—Å–∫–∞ –ø–æ –∏–º–µ–Ω–∏**: –ù–µ –±—ã–ª–æ –º–µ—Ö–∞–Ω–∏–∑–º–∞ –ø–æ–∏—Å–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –ø–æ –µ–≥–æ –Ω–∞–∑–≤–∞–Ω–∏—é

---

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. **dataService.js - SQL –∑–∞–ø—Ä–æ—Å**

**–ë—ã–ª–æ (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–û):**

```javascript
.select(`
    *,
    categories (
        id,
        name_ru,
        name_en,
        name_kz,
        description_ru, description_en, description_kz, // ‚ùå –≠—Ç–∏ –ø–æ–ª—è –ù–ï –≤ categories!
        legends_ru, legends_en, legends_kz              // ‚ùå –≠—Ç–∏ –ø–æ–ª—è –ù–ï –≤ categories!
    )
`)
```

**–°—Ç–∞–ª–æ (–ü–†–ê–í–ò–õ–¨–ù–û):**

```javascript
.select(`
    *,                          // ‚úÖ –í—Å–µ –ø–æ–ª—è places —É–∂–µ –≤–∫–ª—é—á–∞—é—Ç description_* –∏ legends_*
    categories (
        id,
        name_ru,
        name_en,
        name_kz                 // ‚úÖ –¢–æ–ª—å–∫–æ –ø–æ–ª—è –∏–∑ categories
    )
`)
```

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**

- –ü–æ–ª—è `description_ru/en/kz` –∏ `legends_ru/en/kz` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ **places**, –∞ –Ω–µ **categories**
- –°–∏–º–≤–æ–ª `*` –≤ –∑–∞–ø—Ä–æ—Å–µ —É–∂–µ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –í–°–ï –ø–æ–ª—è –∏–∑ `places`, –≤–∫–ª—é—á–∞—è description –∏ legends
- –ü–æ–ø—ã—Ç–∫–∞ –ø–æ–ª—É—á–∏—Ç—å –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è –∏–∑ `categories` –≤—ã–∑—ã–≤–∞–ª–∞ –æ—à–∏–±–∫—É

---

### 2. **dataService.js - –£–ª—É—á—à–µ–Ω–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**

**–ë—ã–ª–æ (–º–∞–ª–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏):**

```javascript
formatPlacesForAI(places, language = "ru") {
    return places.map((place, index) => {
        const name = place[`name_${language}`] || place.name_ru;
        const desc = place[`description_${language}`] || place.description_ru;
        return `${index + 1}. ${name}: ${desc?.substring(0, 100)}...`;
    }).join("\n");
}
```

**–°—Ç–∞–ª–æ (–ø–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è):**

```javascript
formatPlacesForAI(places, language = "ru") {
    return places.map((place, index) => {
        const name = place[`name_${language}`] || place.name_ru;
        const desc = place[`description_${language}`] || place.description_ru;
        const legends = place[`legends_${language}`] || place.legends_ru;

        // –ö–∞—Ç–µ–≥–æ—Ä–∏—è
        const categoryName = place.categories
            ? place.categories[`name_${language}`] || place.categories.name_ru
            : "–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è";

        // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
        const coords = place.lat && place.lng
            ? `(${place.lat.toFixed(4)}, ${place.lng.toFixed(4)})`
            : "";

        // –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
        let result = `${index + 1}. **${name}** [${categoryName}] ${coords}\n`;

        if (desc) {
            result += `   –û–ø–∏—Å–∞–Ω–∏–µ: ${desc}\n`;
        }

        if (legends) {
            result += `   –õ–µ–≥–µ–Ω–¥—ã: ${legends}\n`;
        }

        return result;
    }).join("\n");
}
```

**–ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:**

- ‚úÖ –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –º–µ—Å—Ç–∞
- ‚úÖ –õ–µ–≥–µ–Ω–¥—ã –æ –º–µ—Å—Ç–µ
- ‚úÖ –ö–∞—Ç–µ–≥–æ—Ä–∏—è (–ø—Ä–∏—Ä–æ–¥–∞, –∏—Å—Ç–æ—Ä–∏—è, —Å–µ–ª–æ)
- ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã GPS
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å markdown

---

### 3. **geminiClient.js - –£–ª—É—á—à–µ–Ω–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤**

**–ë—ã–ª–æ (–º–∞–ª–æ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤):**

```javascript
const keywords = {
    places: [
        "–º–µ—Å—Ç–æ",
        "–º–µ—Å—Ç–∞",
        "–¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç",
        "–ø–æ—Å–µ—Ç–∏—Ç—å",
        // ... —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–ª–æ–≤–∞
    ],
};
```

**–°—Ç–∞–ª–æ (–º–Ω–æ–≥–æ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ + –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–µ—Å—Ç–∞):**

```javascript
const keywords = {
    places: [
        "–º–µ—Å—Ç–æ",
        "–º–µ—Å—Ç–∞",
        "–¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç",
        "–ø–æ—Å–µ—Ç–∏—Ç—å",
        "—Ä–∞—Å—Å–∫–∞–∂–∏", // ‚úÖ –ù–æ–≤–æ–µ
        "–æ–ø–∏—à–∏", // ‚úÖ –ù–æ–≤–æ–µ
        "—á—Ç–æ —Ç–∞–∫–æ–µ", // ‚úÖ –ù–æ–≤–æ–µ
        "–≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è", // ‚úÖ –ù–æ–≤–æ–µ
        "–∫–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è", // ‚úÖ –ù–æ–≤–æ–µ
        "–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è", // ‚úÖ –ù–æ–≤–æ–µ
        "–ª–µ–≥–µ–Ω–¥", // ‚úÖ –ù–æ–≤–æ–µ
        "–∏—Å—Ç–æ—Ä–∏—è", // ‚úÖ –ù–æ–≤–æ–µ
    ],
    // ‚úÖ –ù–æ–≤–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è - –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–µ—Å—Ç–∞
    specificPlaces: [
        "—à–µ—Ä–∫–∞–ª–∞",
        "sherkala",
        "–±–æ–∑–∂—ã—Ä–∞",
        "bozzhyra",
        "–±–µ–∫–µ—Ç-–∞—Ç–∞",
        "beket-ata",
        "—à–æ–ø–∞–Ω-–∞—Ç–∞",
        "shopan-ata",
        "—à–∞–∫–ø–∞–∫-–∞—Ç–∞",
        "shakpak-ata",
        "—É—Å—Ç—é—Ä—Ç",
        "ustyurt",
        "—Ç—É–∑–±–∞–∏—Ä",
        "tuzbair",
        "–∞–π—Ä–∞–∫—Ç—ã",
        "airakty",
        "—Ñ–æ—Ä—Ç —à–µ–≤—á–µ–Ω–∫–æ",
        "fort-shevchenko",
        "–∂–∞–Ω–∞ –æ–∑–µ–Ω",
        "jana-ozen",
        "—à–µ—Ç–ø–µ",
        "shetpe",
    ],
};
```

**–ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:**

- ‚úÖ –ù–æ–≤—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤
- ‚úÖ –°–ø–∏—Å–æ–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –º–µ—Å—Ç –ú–∞–Ω–≥–∏—Å—Ç–∞—É
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤–∏–¥–∞ "–†–∞—Å—Å–∫–∞–∂–∏ –æ...", "–ß—Ç–æ —Ç–∞–∫–æ–µ...", "–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è..."

---

### 4. **geminiClient.js - –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–µ—Å—Ç–∞**

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:**

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∑–∞–ø—Ä–æ—Å –æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º –º–µ—Å—Ç–µ
const foundPlace = keywords.specificPlaces.find((place) =>
    lowerText.includes(place)
);
if (foundPlace) {
    result.needsData = true;
    result.type = "places";
    result.searchQuery = foundPlace; // ‚úÖ –ó–∞–ø–æ–º–∏–Ω–∞–µ–º, —á—Ç–æ –∏—Å–∫–∞—Ç—å
    return result;
}
```

**–í fetchContextData –¥–æ–±–∞–≤–ª–µ–Ω –ø–æ–∏—Å–∫:**

```javascript
case "places":
    // –ü–æ–∏—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –º–µ—Å—Ç–∞
    if (analysis.searchQuery) {
        items = await dataService.searchPlaces(
            analysis.searchQuery,
            language
        );
        // –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ, –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –Ω–∞ –≤—Å–µ—Ö —è–∑—ã–∫–∞—Ö
        if (!items || items.length === 0) {
            const allPlaces = await dataService.getAllPlaces();
            items = allPlaces.filter((place) => {
                const nameRu = place.name_ru.toLowerCase();
                const nameEn = place.name_en.toLowerCase();
                const nameKz = place.name_kz.toLowerCase();
                return (
                    nameRu.includes(analysis.searchQuery.toLowerCase()) ||
                    nameEn.includes(analysis.searchQuery.toLowerCase()) ||
                    nameKz.includes(analysis.searchQuery.toLowerCase())
                );
            });
        }
    }
```

**–ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:**

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π –º–µ—Å—Ç –≤ –∑–∞–ø—Ä–æ—Å–µ
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–æ–¥ `searchPlaces`
- ‚úÖ –†–µ–∑–µ—Ä–≤–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º —è–∑—ã–∫–∞–º, –µ—Å–ª–∏ –ø–µ—Ä–≤—ã–π –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –º–µ—Å—Ç–∞

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

```
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –†–∞—Å—Å–∫–∞–∂–∏ –æ –®–µ—Ä–∫–∞–ª–µ
ü§ñ AI: –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —ç—Ç–æ–º –º–µ—Å—Ç–µ –Ω–µ—Ç –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö.
```

‚ùå **–ú–µ—Å—Ç–æ –ù–ï –Ω–∞–π–¥–µ–Ω–æ, —Ö–æ—Ç—è –æ–Ω–æ –µ—Å—Ç—å –≤ –ë–î**

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

```
üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –†–∞—Å—Å–∫–∞–∂–∏ –æ –®–µ—Ä–∫–∞–ª–µ
ü§ñ AI:
**–®–µ—Ä–∫–∞–ª–∞** - —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω–∞—è –≥–æ—Ä–∞ –≤ —Ñ–æ—Ä–º–µ —é—Ä—Ç—ã –≤ –ú–∞–Ω–≥–∏—Å—Ç–∞—É!

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–®–µ—Ä–∫–∞–ª–∞ - –º–µ–ª–æ–≤–∞—è –≥–æ—Ä–∞ –≤—ã—Å–æ—Ç–æ–π –æ–∫–æ–ª–æ 300 –º–µ—Ç—Ä–æ–≤, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–∞—è –≤ –¥–æ–ª–∏–Ω–µ –ñ—ã–ª–≥—ã–Ω...

**–õ–µ–≥–µ–Ω–¥—ã:**
–ú–µ—Å—Ç–Ω—ã–µ –∂–∏—Ç–µ–ª–∏ –≤–µ—Ä—è—Ç, —á—Ç–æ –®–µ—Ä–∫–∞–ª–∞ - —ç—Ç–æ –æ–∫–∞–º–µ–Ω–µ–≤—à–∞—è —é—Ä—Ç–∞ –≤–µ–ª–∏–∫–æ–≥–æ –±–∞—Ç—ã—Ä–∞...

**–ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã:** 43.7¬∞ N, 52.8¬∞ E
**–ö–∞—Ç–µ–≥–æ—Ä–∏—è:** –ü—Ä–∏—Ä–æ–¥–Ω–∞—è –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å
```

‚úÖ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–µ—Å—Ç–µ!**

---

## –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

–¢–µ–ø–µ—Ä—å AI –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞:

### 1. –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –º–µ—Å—Ç–∞

- ‚úÖ "–†–∞—Å—Å–∫–∞–∂–∏ –æ –®–µ—Ä–∫–∞–ª–µ"
- ‚úÖ "–ß—Ç–æ —Ç–∞–∫–æ–µ –ë–æ–∑–∂—ã—Ä–∞?"
- ‚úÖ "–û–ø–∏—à–∏ –ë–µ–∫–µ—Ç-–ê—Ç–∞"
- ‚úÖ "–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –£—Å—Ç—é—Ä—Ç?"

### 2. –û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã

- ‚úÖ "–ö–∞–∫–∏–µ –µ—Å—Ç—å –º–µ—Å—Ç–∞ –¥–ª—è –ø–æ—Å–µ—â–µ–Ω–∏—è?"
- ‚úÖ "–ü–æ–∫–∞–∂–∏ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"
- ‚úÖ "–ß—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–≥–æ –≤ –ú–∞–Ω–≥–∏—Å—Ç–∞—É?"

### 3. –ü–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º

- ‚úÖ "–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –º–µ—Å—Ç–∞"
- ‚úÖ "–ü—Ä–∏—Ä–æ–¥–Ω—ã–µ –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏"
- ‚úÖ "–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–µ—Å—Ç–∞"

### 4. –¢—É—Ä—ã

- ‚úÖ "–ö–∞–∫–∏–µ –µ—Å—Ç—å —Ç—É—Ä—ã?"
- ‚úÖ "–ü–æ–∫–∞–∂–∏ —ç–∫—Å–∫—É—Ä—Å–∏–∏"
- ‚úÖ "–ú–∞—Ä—à—Ä—É—Ç—ã –ø–æ –ú–∞–Ω–≥–∏—Å—Ç–∞—É"

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–¢–∞–±–ª–∏—Ü–∞ `places`:**

```sql
- id
- name_ru, name_en, name_kz
- description_ru, description_en, description_kz  ‚úÖ –û–ø–∏—Å–∞–Ω–∏—è
- legends_ru, legends_en, legends_kz              ‚úÖ –õ–µ–≥–µ–Ω–¥—ã
- lat, lng                                         ‚úÖ –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- category_id                                      ‚úÖ –°–≤—è–∑—å —Å categories
```

**–¢–∞–±–ª–∏—Ü–∞ `categories`:**

```sql
- id
- name_ru, name_en, name_kz                       ‚úÖ –¢–æ–ª—å–∫–æ –Ω–∞–∑–≤–∞–Ω–∏—è
```

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–ø—Ä–∞—à–∏–≤–∞–µ—Ç**: "–†–∞—Å—Å–∫–∞–∂–∏ –æ –®–µ—Ä–∫–∞–ª–µ"
2. **analyzeUserQuery**: –†–∞—Å–ø–æ–∑–Ω–∞–µ—Ç "—à–µ—Ä–∫–∞–ª–∞" –≤ `specificPlaces` ‚Üí `searchQuery = "—à–µ—Ä–∫–∞–ª–∞"`
3. **fetchContextData**:
    - –í—ã–∑—ã–≤–∞–µ—Ç `searchPlaces("—à–µ—Ä–∫–∞–ª–∞", "ru")`
    - –ù–∞—Ö–æ–¥–∏—Ç –º–µ—Å—Ç–æ –≤ –ë–î
4. **formatPlacesForAI**:
    - –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é (–Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –ª–µ–≥–µ–Ω–¥—ã, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)
5. **AI –ø–æ–ª—É—á–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç**: –ü–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –®–µ—Ä–∫–∞–ª–µ –∏–∑ –ë–î
6. **AI –æ—Ç–≤–µ—á–∞–µ—Ç**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –∫—Ä–∞—Å–∏–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ

---

## –ß–µ–∫–ª–∏—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

- ‚úÖ –£–±—Ä–∞–Ω—ã `description_*` –∏ `legends_*` –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ `categories`
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `formatPlacesForAI` —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞: "—Ä–∞—Å—Å–∫–∞–∂–∏", "–æ–ø–∏—à–∏", "—á—Ç–æ —Ç–∞–∫–æ–µ", "–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è", etc.
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –º–µ—Å—Ç –ú–∞–Ω–≥–∏—Å—Ç–∞—É
- ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –º–µ—Å—Ç–∞
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º —è–∑—ã–∫–∞–º
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –≤–∫–ª—é—á–∞–µ—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –ª–µ–≥–µ–Ω–¥—ã, –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ markdown —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –æ—Ç–≤–µ—Ç–∞—Ö
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 3 —è–∑—ã–∫–∞—Ö (ru/kz/en)

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:

1. **–†–∞—Å—à–∏—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ –º–µ—Å—Ç**: –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –Ω–∞–∑–≤–∞–Ω–∏–π –≤ `specificPlaces`
2. **Fuzzy search**: –ü–æ–∏—Å–∫ —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–®–∏—Ä–∫–∞–ª–∞" ‚Üí "–®–µ—Ä–∫–∞–ª–∞")
3. **–°–∏–Ω–æ–Ω–∏–º—ã**: "–º–µ—á–µ—Ç—å –ë–µ–∫–µ—Ç-–ê—Ç–∞" = "–ë–µ–∫–µ—Ç-–ê—Ç–∞"
4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–æ—Ö—Ä–∞–Ω—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
5. **–†–µ–π—Ç–∏–Ω–≥ –º–µ—Å—Ç**: –°–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç–∏
6. **–§–æ—Ç–æ**: –î–æ–±–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ –æ—Ç–≤–µ—Ç–∞—Ö

---

**–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç! üéâ**

